// This flow is responsible for authenticating with super gluu
Flow org.gluu.agama.supergluu.authn
     Basepath ""
     Configs conf
     Inputs userData scimSetting
// Mark startup logs
Log "@debug Authentication flow is started"
// Set inum = userData.inum
inum = userData.inum
// Get instance SGValidator
sgValidator = Call org.gluu.agama.supergluu.SGValidator#new 
// Generates assertion request for validation
qrRequest = Call userData QRRequest "authenticate"
// Startup log for mobile notification
Log "@debug Sending mobile notification to user's registered Super Gluu devices "
// Get instance SGNotificationsUtil
realCrap = Call org.gluu.agama.supergluu.notify.SGNotificationsUtil#getInstance 
// Send mobile notification
aux | E = Call realCrap send inum sgValidator.appId qrRequest
When E is not null
     // Mark log when error
     Log "@error " E
     // Set E = null
     E = null